#!/bin/bash

GIT_BIN=`which git`;
MAKEPKG_BIN=`which makepkg`;
TRIZEN_BIN=`which trizen`;

if [ "$TRIZEN_BIN" != "" ]; then

	$TRIZEN_BIN -S --needed --noconfirm python2-attrs python2-future;
	$TRIZEN_BIN -S --needed --noconfirm wireless-regdb-pentest;

elif [ "$GIT_BIN" != "" ] && [ "$MAKEPKG_BIN" != "" ]; then

	sudo pacman -S --needed --noconfirm python2-attrs python2-future;


	TMP_DIR="/tmp/wireless-regdb-pentest";

	mkdir $TMP_DIR;
	cd $TMP_DIR;
	$GIT_BIN clone https://aur.archlinux.org/wireless-regdb-pentest.git $TMP_DIR;

	cd $TMP_DIR;
	$MAKEPKG_BIN -s;

	if [ $? == 0 ]; then

		cd $TMP_DIR;
		sudo pacman -U wireless-regdb-pentest-*.pkg.tar.xz;

	fi;

fi;

